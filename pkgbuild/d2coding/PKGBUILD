# Contributor : Jinho Jeong <jjinho0203@gmail.com>

pkgname=ttf-d2coding
pkgver=1.3
pkgrel=20171129
pkgdesc="D2Coding Fixed Width TrueType fonts"
arch=('any')
url="https://github.com/naver/d2codingfont"
license=('OFL')
depends=('fontconfig' 'xorg-font-utils')
provides=('ttf-font')

# redirected from https://github.com/naver/d2codingfont/blob/master/D2Coding-Ver${pkgver}-${pkgrel}.zip?raw=true
source=("https://raw.githubusercontent.com/naver/d2codingfont/master/D2Coding-Ver${pkgver}-${pkgrel}.zip")
md5sums=('f57113a6ee63dd8f0a01555c3eb6cecc')

post_install() {
    echo -n "Updating font cache..."
    fc-cache /usr/share/fonts/TTF
    echo "done."
}

post_upgrade() {
    post_install $1
}

post_remove() {
    post_install $1
}

package() {
    install -dm 755 ${pkgdir}/usr/share/fonts/TTF

    install -m 644 -T \
        ${srcdir}/D2Coding-Ver${pkgver}-${pkgrel}/D2Coding-Ver${pkgver}-${pkgrel}.ttc \
        ${pkgdir}/usr/share/fonts/TTF/D2Coding.ttc
}

